<div class="container-fluid bg-3">  
    <div class="row">
      {{!-- Iterate iamges in teh following div --}}
      {{!-- <div class="col-sm-4"></div> --}}
        <div class="row">
            <div class="col-sm-8">
                <div class="row">
                        <div class="col-sm-12">
                            <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                                <!-- Indicators -->
                                <ol class="carousel-indicators">
                                    <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                                    <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                                    <li data-target="#carousel-example-generic" data-slide-to="2"></li>
                                </ol>

                                <div class="carousel-inner" role="listbox">
                                {{#each spaceDetails.photoArray}}
                                    {{#if @first}}
                                    <div class="item active">
                                            <img class="img-ad" src={{this}} alt="..." >
                                            <div class="carousel-caption">
                                            </div>
                                        </div>
                                        {{else}}
                                        <div class="item">
                                            <img class="img-ad" src={{this}} alt="..." >
                                            <div class="carousel-caption">
                                            </div>
                                        </div>
                                        {{/if}}
                                      
                                {{/each}}   
                                  <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                                        <span class="sr-only">Previous</span>
                                    </a>
                                    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                                        <span class="sr-only">Next</span>
                                    </a>
                        </div>
                      
                      
                    </div>
                </div>
                </div>
               <h2>{{spaceDetails.spaceName}}</h2>
               <p><div >{{spaceDetails.description}}</div></p>
               <h4> $x{{spaceDetails.price}}/Night</h4>
               <p id="pricePerDay" hidden> {{spaceDetails.price}}</p>
               <p id="spaceId" hidden>{{spaceDetails._id}}</p>
               <h4>Space Dimension: {{spaceDetails.spaceDim.length}} x {{spaceDetails.spaceDim.width}} x {{spaceDetails.spaceDim.height}}</h4>

            </div>
            {{#if canBook}}
            <div class="col-sm-4">
                <div class="row">
                    <form action="post" id="bookingform">
                        <h2>Booking</h2>

                            <div class="col-md-6">
                                <div class="form-group">
                                    <input class="form-control dateDisplay" id = 'check-in' type="input"  placeholder="MM/DD/YYYY" autocomplete="false" required >
                                    <span class="form-label">Check In</span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <input class="form-control dateDisplay"  id = 'check-out' type="input" placeholder="MM/DD/YYYY" autocomplete="false" required >
                                    <span class="form-label">Check out</span>
                                </div>

                            </div>
                        <input id="booking" name="submit" type="button" class="btn AllButton" value="Submit" >
                    </form>
                </div>
                <div class="row">
                     <div id="gmap" style="height:400px; width:100%;"></div> <!-- Some restaurants already have a pin on Google maps, and manual pin is somewhat inaccurate due to our estimation -->
                </div>
                <div class="row error"></div>
            </div>
             {{/if}}
        </div>
    </div>
    <div class="col-sm-6" id="commentList">
        <h2>Comments:</h2>
        {{#each commentList}}
            <div>
                <h2>{{this.comment}}</h2> 
                <h4>Posted by: {{this.userName}}</h4>
                <h4>at {{this.date}}</h4>
                {{#if this.sameUser}}
                <div id="judgeUserId">
                    <form action="/comments/edit/{{this._id}}" method="POST" name="editCommentForm" id="editCommentForm" style="display: block;">
                        <div id="editCommentText">
                            <label>
                                <h3>Update your comment</h3>
                                <textarea name="comment" class="form-control form-control-lg" id="comment" cols="20" rows="2" placeholder="You can update this comment here." autocomplete="false" required></textarea>
                            </label>
                        </div>
                        <div id="comment-submit-button">
                            <button type="submit" class="btn btn-primary" name="submitButton" id="submitButton">Update Comment</button>
                        </div>
                    </form>
                    <form action="/comments/delete/{{this._id}}" method="POST" id="delete">
                        <div id="comment-delete-button">
                            <button type="submit" class="btn btn-primary" name="deleteButton" id="deleteButton">delete</button>
                        </div>
                    </form>
                </div>
                {{/if}}
            </div>
            <br>
        {{/each}}
        <br/>
        <br/>
        <div class="w-100">
            <br>
            <form action="/comments/creatComment/{{spaceDetails._id}}" method="POST" id="comment-form">
                <div>
                    <label>
                        <h2>Post a new comment here</h2>
                        <textarea name="comment" class="form-control form-control-lg" id="comment" cols="30" rows="5" placeholder="You can enter any questions you want to ask about this Space here." autocomplete="false" required></textarea>
                    </label>
                </div>

                <div id="comment-submit-button">
                    <button type="submit" class="btn btn-primary" name="submitButton" id="submitButton" onclick="confirmPostComment()">Post</button>
                </div>
            </form>
        </div>
    </div>

   <div class="col-sm-6" id="reviewList">
        <h2>Reviews:</h2>
        {{#each reviewList}}
        <div>
            <h2>{{this.review}}</h2>
            <h4>Rating: {{this.rating}}</h4>
            <h4>Posted by: {{this.userName}}</h4>

            <h4>at {{this.date}}</h4>
            {{#if this.sameUser}}
            <div id="judgeUserId">
                <form action="/reviews/edit/{{this._id}}" method="POST" name="editreviewForm" id="editreviewForm"
                    style="display: block;">
                    <div id="editreviewText">
                        <label>
                            <h3>Update your review:</h3>
                            <textarea name="review" class="form-control form-control-lg" id="review" cols="20" rows="2"
                                placeholder="You can update this review here."></textarea>
                                Update your rating:
                            <input type="number" name="rating" class="form-control form-control-lg" id="rating"
                                placeholder="rating (number 1-5)">
                        </label>
                    </div>
                    <div id="review-submit-button">
                        <button type="submit" class="btn btn-primary" name="submitButton" id="submitButton">Update review</button>
                    </div>
                </form>
                <form action="/reviews/delete/{{this._id}}" method="POST" id="delete">
                    <div id="review-delete-button">
                        <button type="submit" class="btn btn-primary" name="deleteButton" id="deleteButton">delete</button>
                    </div>
                </form>
            </div>
            {{/if}}
        </div>
        <br>
        {{/each}}
        <br />
        <br />
        <div class="w-100">
            <br>
            <form action="/reviews/creatreview/{{spaceDetails._id}}" method="POST" id="review-form">
                <div>
                    <label>
                        <h2>Post a new review and rating below</h2>
                        <textarea name="review" class="form-control form-control-lg" id="review" cols="30" rows="5"
                            placeholder="You can write any reviews about this space."></textarea>
                        <br>
                        <input type="number" name="rating" cols="5" rows="2" class="form-control form-control-lg" id="rating"
                        placeholder="rating (number 1-5)">
                    </label>
                </div>

                <div id="review-submit-button">
                    <button type="submit" class="btn btn-primary" name="submitButton" id="submitButton"
                        onclick="confirmPostreview()">Post</button>
                </div>
            </form>
        </div>
    </div>
</div>


<div id='bookings' hidden>{{booking}}</div>
 <script src="/public/js/map.js" latitude={{spaceDetails.location.latitude}} longitude={{spaceDetails.location.longitude}}></script>
 {{!-- <script src="/public/javascript/forms.js"></script> --}}
<script>
$( document ).ready(function() {
    var check_in = {{{booking}}}
//var check_in = [["2021-12-05","2021-12-05"], ["2021-12-15", "2021-12-20"]];
   disableDates(check_in);
});

</script>
